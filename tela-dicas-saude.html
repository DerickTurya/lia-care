<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dicas de Sa√∫de Personalizadas - Lia Care</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        :root {
            --itau-orange: #EC7000;
            --itau-orange-light: #FF8C1A;
            --itau-orange-dark: #D66300;
            --aiia-purple: #6B46C1;
            --aiia-blue: #4299E1;
            --aiia-gradient: linear-gradient(135deg, #4299E1 0%, #6B46C1 100%);
        }

        .chat-container {
            max-height: 550px;
            overflow-y: auto;
            padding: 24px;
            background: linear-gradient(to bottom, #f7fafc 0%, #edf2f7 100%);
            border-radius: 16px;
            margin-bottom: 24px;
            box-shadow: inset 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .message {
            margin-bottom: 20px;
            display: flex;
            gap: 14px;
            animation: fadeIn 0.4s ease-out;
        }
        
        @keyframes fadeIn {
            from { 
                opacity: 0; 
                transform: translateY(15px) scale(0.95);
            }
            to { 
                opacity: 1; 
                transform: translateY(0) scale(1);
            }
        }
        
        .message.user {
            flex-direction: row-reverse;
        }
        
        .message-avatar {
            min-width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            background: white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 2px solid #f0f0f0;
        }
        
        .message.user .message-avatar {
            background: var(--aiia-gradient);
            border: 2px solid var(--aiia-blue);
            color: white;
        }
        
        .message-content {
            max-width: 75%;
            padding: 14px 18px;
            border-radius: 16px;
            background-color: white;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
            white-space: pre-line;
            line-height: 1.6;
            border: 1px solid #f0f0f0;
        }
        
        .message.user .message-content {
            background: var(--aiia-gradient);
            color: white;
            border: none;
            box-shadow: 0 4px 16px rgba(66, 153, 225, 0.3);
        }
        
        .typing-indicator {
            display: none;
            padding: 14px 18px;
            background-color: white;
            border-radius: 16px;
            width: fit-content;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
        }
        
        .typing-indicator.active {
            display: block;
        }
        
        .typing-indicator span {
            height: 10px;
            width: 10px;
            background: var(--aiia-gradient);
            border-radius: 50%;
            display: inline-block;
            margin-right: 5px;
            animation: typing 1.4s infinite;
        }
        
        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); opacity: 0.4; }
            30% { transform: translateY(-12px); opacity: 1; }
        }
        
        .input-area {
            display: flex;
            gap: 12px;
            margin-top: 24px;
            padding: 6px;
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            border: 2px solid #e2e8f0;
            transition: all 0.3s;
        }

        .input-area:focus-within {
            border-color: var(--aiia-blue);
            box-shadow: 0 4px 24px rgba(66, 153, 225, 0.2);
        }
        
        .input-area input {
            flex: 1;
            padding: 14px 18px;
            border: none;
            border-radius: 12px;
            font-size: 15px;
            background: transparent;
            outline: none;
        }
        
        .input-area button {
            padding: 14px 28px;
            background: var(--itau-orange);
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 15px;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 2px 8px rgba(236, 112, 0, 0.3);
        }
        
        .input-area button:hover {
            background: var(--itau-orange-light);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(236, 112, 0, 0.4);
        }

        .input-area button:active {
            transform: translateY(0);
        }
        
        .input-area button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        
        .quick-questions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 14px;
            margin-bottom: 28px;
        }
        
        .quick-question-btn {
            padding: 14px 18px;
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
            text-align: left;
            font-weight: 500;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
            position: relative;
            overflow: hidden;
        }

        .quick-question-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--aiia-gradient);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .quick-question-btn:hover::before {
            opacity: 1;
        }

        .quick-question-btn:hover {
            border-color: var(--aiia-blue);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(66, 153, 225, 0.25);
        }

        .quick-question-btn span {
            position: relative;
            z-index: 1;
        }
        
        .health-info-card {
            background: var(--aiia-gradient);
            color: white;
            padding: 24px;
            border-radius: 16px;
            margin-bottom: 24px;
            box-shadow: 0 8px 24px rgba(66, 153, 225, 0.25);
        }
        
        .health-info-card h3 {
            margin: 0 0 10px 0;
            font-size: 19px;
            font-weight: 600;
        }
        
        .health-info-card p {
            margin: 0;
            opacity: 0.95;
            font-size: 15px;
            line-height: 1.6;
        }
        
        .disclaimer {
            background: linear-gradient(135deg, #FFF4E6 0%, #FFE8CC 100%);
            border-left: 4px solid var(--itau-orange);
            padding: 18px;
            border-radius: 12px;
            font-size: 14px;
            margin-bottom: 24px;
            box-shadow: 0 2px 8px rgba(236, 112, 0, 0.1);
        }

        .card-header {
            background: var(--aiia-gradient);
            margin: -40px -40px 32px -40px;
            padding: 40px;
            border-radius: 12px 12px 0 0;
            color: white;
        }

        .card-title {
            color: white !important;
        }

        .card-subtitle {
            color: rgba(255,255,255,0.9) !important;
        }

        .ai-message {
            background: linear-gradient(135deg, #f7fafc 0%, white 100%);
            border: 2px solid #e2e8f0;
            border-radius: 16px;
            overflow: hidden;
            margin-bottom: 28px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.06);
        }

        .ai-message-header {
            background: var(--aiia-gradient);
            padding: 16px 20px;
            display: flex;
            align-items: center;
            gap: 12px;
            color: white;
            font-weight: 600;
            font-size: 16px;
        }

        .ai-message-content {
            padding: 24px;
        }

        .btn-secondary {
            transition: all 0.3s;
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        @media (max-width: 768px) {
            .quick-questions {
                grid-template-columns: 1fr;
            }
            
            .message-content {
                max-width: 85%;
            }

            .chat-container {
                padding: 16px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <div class="logo-icon">LIA</div>
                <div class="logo-text">
                    <h1>Lia Care</h1>
                    <p>Licen√ßas e Afastamentos</p>
                </div>
            </div>
        </header>

        <div class="card" style="max-width: 900px; margin: 40px auto;">
            <div class="card-header text-center">
                <div style="font-size: 48px; margin-bottom: 16px;">üè•</div>
                <h2 class="card-title">Dicas de Sa√∫de Personalizadas</h2>
                <p class="card-subtitle">Orienta√ß√µes para sua recupera√ß√£o com IA</p>
            </div>

            <div class="disclaimer">
                <strong>‚ö†Ô∏è Aviso Importante:</strong> As dicas fornecidas s√£o apenas orienta√ß√µes gerais baseadas em IA e n√£o substituem consulta m√©dica profissional. Sempre siga as recomenda√ß√µes do seu m√©dico.
            </div>

            <div class="health-info-card" id="userHealthInfo" style="display: none;">
                <h3>üìã Sua Condi√ß√£o</h3>
                <p id="userConditionText"></p>
            </div>

            <div class="ai-message">
                <div class="ai-message-header">
                    <span>ü§ñ</span>
                    <span>LIA - Assistente de Sa√∫de</span>
                </div>
                <div class="ai-message-content">
                    <p style="margin-bottom: 12px;"><strong>Ol√°! Estou aqui para te ajudar com dicas de recupera√ß√£o.</strong></p>
                    <p style="margin-bottom: 12px;">Baseado nas informa√ß√µes da sua licen√ßa m√©dica, posso fornecer orienta√ß√µes personalizadas sobre:</p>
                    <ul style="margin: 12px 0; padding-left: 20px; line-height: 1.8;">
                        <li>üèÉ‚Äç‚ôÇÔ∏è Exerc√≠cios e atividades recomendadas</li>
                        <li>ü•ó Alimenta√ß√£o adequada para sua condi√ß√£o</li>
                        <li>üò¥ Dicas de sono e descanso</li>
                        <li>üíä Cuidados gerais e preven√ß√£o</li>
                        <li>üìÖ Cronograma de recupera√ß√£o</li>
                    </ul>
                    <p style="margin-top: 12px;">Selecione uma pergunta r√°pida abaixo ou fa√ßa sua pr√≥pria pergunta!</p>
                </div>
            </div>

            <div class="divider"></div>

            <h3 style="font-size: 16px; font-weight: 600; margin-bottom: 16px;">üí¨ Perguntas R√°pidas</h3>
            
            <div class="quick-questions">
                <button class="quick-question-btn" onclick="askQuestion('Quais exerc√≠cios posso fazer durante minha recupera√ß√£o?')">
                    <span>üèÉ‚Äç‚ôÇÔ∏è Exerc√≠cios seguros para recupera√ß√£o</span>
                </button>
                <button class="quick-question-btn" onclick="askQuestion('Que tipo de alimenta√ß√£o √© recomendada para minha condi√ß√£o?')">
                    <span>ü•ó Alimenta√ß√£o adequada e suplementos</span>
                </button>
                <button class="quick-question-btn" onclick="askQuestion('Como melhorar a qualidade do meu sono durante a recupera√ß√£o?')">
                    <span>üò¥ Dicas para sono reparador</span>
                </button>
                <button class="quick-question-btn" onclick="askQuestion('Quais cuidados devo ter no dia a dia?')">
                    <span>‚öïÔ∏è Cuidados di√°rios essenciais</span>
                </button>
                <button class="quick-question-btn" onclick="askQuestion('Quanto tempo leva normalmente para recupera√ß√£o completa?')">
                    <span>‚è±Ô∏è Tempo estimado de recupera√ß√£o</span>
                </button>
                <button class="quick-question-btn" onclick="askQuestion('Como evitar que o problema se repita?')">
                    <span>üõ°Ô∏è Preven√ß√£o e cuidados futuros</span>
                </button>
                <button class="quick-question-btn" onclick="askQuestion('Quais sinais de alerta devo observar?')">
                    <span>üö® Sinais de alerta importantes</span>
                </button>
                <button class="quick-question-btn" onclick="askQuestion('Como gerenciar dor e desconforto?')">
                    <span>üíä Gerenciamento de dor</span>
                </button>
                <button class="quick-question-btn" onclick="askQuestion('Quando posso retornar √†s atividades normais?')">
                    <span>üìÖ Retorno gradual √†s atividades</span>
                </button>
                <button class="quick-question-btn" onclick="askQuestion('Como manter a sa√∫de mental durante o afastamento?')">
                    <span>üß† Sa√∫de mental e bem-estar</span>
                </button>
                <button class="quick-question-btn" onclick="askQuestion('Quais terapias complementares podem ajudar?')">
                    <span>üåø Terapias complementares</span>
                </button>
                <button class="quick-question-btn" onclick="askQuestion('Como adaptar meu ambiente de trabalho quando retornar?')">
                    <span>üè¢ Adapta√ß√£o ergon√¥mica no trabalho</span>
                </button>
            </div>

            <div class="divider"></div>

            <div class="chat-container" id="chatContainer">
                <div class="message">
                    <div class="message-avatar">ü§ñ</div>
                    <div class="message-content">
                        <strong>Lia Care:</strong> Ol√°! Me conte qual √© sua condi√ß√£o m√©dica ou les√£o, e eu vou te fornecer dicas personalizadas de recupera√ß√£o. üòä
                    </div>
                </div>
            </div>

            <div class="typing-indicator" id="typingIndicator">
                <span></span>
                <span></span>
                <span></span>
            </div>

            <div class="input-area">
                <input 
                    type="text" 
                    id="userInput" 
                    placeholder="Digite sua pergunta aqui..."
                    onkeypress="handleKeyPress(event)"
                >
                <button onclick="sendMessage()" id="sendBtn">Enviar</button>
            </div>

            <div style="margin-top: 32px; display: flex; gap: 12px;">
                <a href="tela-06a-acompanhamento.html" class="btn btn-secondary" style="flex: 1;">
                    Voltar
                </a>
                <button onclick="clearChat()" class="btn btn-secondary" style="flex: 1;">
                    üîÑ Nova Conversa
                </button>
            </div>
        </div>
    </div>

    <script>
        // Hist√≥rico da conversa
        let conversationHistory = [];
        
        // Contexto do usu√°rio (pode ser preenchido dinamicamente)
        const userContext = {
            condition: null,
            cid: null,
            days: null
        };

        // Fun√ß√£o para adicionar mensagem ao chat
        function addMessage(text, isUser = false) {
            const chatContainer = document.getElementById('chatContainer');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user' : ''}`;
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = isUser ? 'üë§' : 'ü§ñ';
            
            const content = document.createElement('div');
            content.className = 'message-content';
            if (!isUser) {
                content.innerHTML = '<strong>Lia Care:</strong> ' + text;
            } else {
                content.textContent = text;
            }
            
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(content);
            chatContainer.appendChild(messageDiv);
            
            // Scroll para baixo
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        // Fun√ß√£o para mostrar/esconder indicador de digita√ß√£o
        function setTyping(isTyping) {
            const indicator = document.getElementById('typingIndicator');
            const sendBtn = document.getElementById('sendBtn');
            const input = document.getElementById('userInput');
            
            if (isTyping) {
                indicator.classList.add('active');
                sendBtn.disabled = true;
                input.disabled = true;
            } else {
                indicator.classList.remove('active');
                sendBtn.disabled = false;
                input.disabled = false;
            }
        }

        // Fun√ß√£o para processar mensagens (apenas frontend)
        async function callOpenAI(userMessage) {
            // Adiciona ao hist√≥rico
            conversationHistory.push({
                role: "user",
                content: userMessage
            });
            
            // Gera resposta inteligente
            const response = getFallbackResponse(userMessage);
            
            conversationHistory.push({
                role: "assistant",
                content: response
            });
            
            return response;
        }

        // Fun√ß√£o de fallback (resposta simulada)
        function getFallbackResponse(question) {
            const responses = {
                'exercicio': `üèÉ‚Äç‚ôÇÔ∏è Exerc√≠cios Seguros para Recupera√ß√£o

Durante a recupera√ß√£o inicial (primeiros dias):
‚Ä¢ Repouso adequado √© fundamental
‚Ä¢ Movimentos leves e alongamentos suaves
‚Ä¢ Caminhadas curtas se autorizado pelo m√©dico

Ap√≥s melhora (com libera√ß√£o m√©dica):
‚Ä¢ Exerc√≠cios de baixo impacto (nata√ß√£o, caminhada)
‚Ä¢ Alongamentos di√°rios
‚Ä¢ Evite esfor√ßos intensos at√© libera√ß√£o completa

‚ö†Ô∏è Importante: Sempre consulte seu m√©dico antes de iniciar qualquer atividade f√≠sica!`,
                
                'alimentacao': `ü•ó Alimenta√ß√£o Adequada para Recupera√ß√£o

Alimentos recomendados:
‚Ä¢ Frutas ricas em vitamina C (laranja, acerola, kiwi)
‚Ä¢ Prote√≠nas magras (frango, peixe, ovos)
‚Ä¢ Vegetais verde-escuros (couve, espinafre, br√≥colis)
‚Ä¢ Gr√£os integrais
‚Ä¢ Muita √°gua (2-3 litros/dia)

Evite:
‚Ä¢ Alimentos ultraprocessados
‚Ä¢ Excesso de a√ß√∫car
‚Ä¢ Bebidas alco√≥licas
‚Ä¢ Alimentos muito gordurosos

‚úÖ Lembre-se: Uma boa alimenta√ß√£o acelera a recupera√ß√£o!`,
                
                'sono': `üò¥ Dicas para Sono Reparador

Rotina:
‚Ä¢ Durma e acorde no mesmo hor√°rio
‚Ä¢ 7-9 horas de sono por noite
‚Ä¢ Cochilos de 20-30 minutos se necess√°rio

Ambiente:
‚Ä¢ Quarto escuro, silencioso e fresco
‚Ä¢ Temperatura entre 18-22¬∞C
‚Ä¢ Colch√£o e travesseiro confort√°veis

H√°bitos:
‚Ä¢ Evite telas 1h antes de dormir
‚Ä¢ Ch√° de camomila pode ajudar
‚Ä¢ Leitura leve antes de dormir
‚Ä¢ Evite cafe√≠na ap√≥s 15h

‚úÖ Importante: O sono de qualidade √© essencial para recupera√ß√£o!`,

                'dor_costas': `üèãÔ∏è Dicas para Dor nas Costas/Lombar

Repouso e Postura:
‚Ä¢ Evite ficar muito tempo na mesma posi√ß√£o
‚Ä¢ Use travesseiro entre as pernas ao dormir de lado
‚Ä¢ Colch√£o firme e de qualidade
‚Ä¢ Cadeira com apoio lombar adequado

Exerc√≠cios Recomendados (com libera√ß√£o m√©dica):
‚Ä¢ Alongamento de gato-vaca
‚Ä¢ Exerc√≠cios de fortalecimento do core
‚Ä¢ Caminhadas leves
‚Ä¢ Nata√ß√£o ou hidrogin√°stica

Evite:
‚Ä¢ Carregar peso
‚Ä¢ Permanecer muito tempo sentado
‚Ä¢ Movimentos bruscos
‚Ä¢ Cal√ßados sem amortecimento

‚ö†Ô∏è Quando procurar ajuda:
‚Ä¢ Dor que irradia para as pernas
‚Ä¢ Formigamento ou fraqueza
‚Ä¢ Perda de controle da bexiga`,

                'lesao_muscular': `üí™ Recupera√ß√£o de Les√£o Muscular

Protocolo RICE (primeiras 48-72h):
‚Ä¢ Rest (Repouso) - evite usar o m√∫sculo lesionado
‚Ä¢ Ice (Gelo) - 15-20 min a cada 2-3 horas
‚Ä¢ Compression (Compress√£o) - bandagem el√°stica
‚Ä¢ Elevation (Eleva√ß√£o) - mantenha o membro elevado

Fase de Recupera√ß√£o:
‚Ä¢ Massagem suave ap√≥s fase aguda
‚Ä¢ Alongamentos progressivos
‚Ä¢ Fortalecimento gradual
‚Ä¢ Retorno progressivo √†s atividades

Alimentos que ajudam:
‚Ä¢ Prote√≠nas (reconstru√ß√£o muscular)
‚Ä¢ √îmega-3 (anti-inflamat√≥rio)
‚Ä¢ Vitamina C (col√°geno)
‚Ä¢ Zinco e magn√©sio

‚è±Ô∏è Tempo estimado: 2-6 semanas dependendo da gravidade`,

                'fratura': `ü¶¥ Cuidados com Fratura

Fase de Imobiliza√ß√£o:
‚Ä¢ Mantenha o gesso/tala limpo e seco
‚Ä¢ N√£o coloque objetos dentro do gesso
‚Ä¢ Eleve o membro quando poss√≠vel
‚Ä¢ Movimente dedos/articula√ß√µes livres

‚ö†Ô∏è Sinais de alerta:
‚Ä¢ Aumento da dor
‚Ä¢ Incha√ßo excessivo
‚Ä¢ Formigamento ou dorm√™ncia
‚Ä¢ Dedos azulados ou muito p√°lidos
‚Ä¢ Mau cheiro ou secre√ß√£o no gesso

Ap√≥s retirada do gesso:
‚Ä¢ Fisioterapia conforme orienta√ß√£o
‚Ä¢ Exerc√≠cios de amplitude de movimento
‚Ä¢ Fortalecimento progressivo
‚Ä¢ Prote√ß√£o solar na pele exposta

Nutri√ß√£o para ossos:
‚Ä¢ C√°lcio (leite, queijo, br√≥colis)
‚Ä¢ Vitamina D (sol, ovos, peixes)
‚Ä¢ Prote√≠nas
‚Ä¢ Magn√©sio e vitamina K`,

                'burnout_ansiedade': `üß† Recupera√ß√£o de Burnout/Ansiedade

Autocuidado Di√°rio:
‚Ä¢ Pratique mindfulness/medita√ß√£o (10-15 min/dia)
‚Ä¢ Estabele√ßa limites entre trabalho e vida pessoal
‚Ä¢ Pratique atividade f√≠sica leve
‚Ä¢ Mantenha contato com pessoas queridas

T√©cnicas de Relaxamento:
‚Ä¢ Respira√ß√£o 4-7-8 (inspire 4s, segure 7s, expire 8s)
‚Ä¢ Yoga ou tai chi
‚Ä¢ Hobbies relaxantes
‚Ä¢ Contato com a natureza

Reestrutura√ß√£o:
‚Ä¢ Liste prioridades reais
‚Ä¢ Aprenda a dizer "n√£o"
‚Ä¢ Delegue tarefas quando poss√≠vel
‚Ä¢ Celebre pequenas conquistas

Apoio Profissional:
‚Ä¢ Terapia psicol√≥gica
‚Ä¢ Grupos de apoio
‚Ä¢ Psiquiatria se necess√°rio

üíö Sa√∫de mental √© t√£o importante quanto f√≠sica!`,

                'cirurgia': `üè• Cuidados P√≥s-Cir√∫rgicos

Primeiros Dias:
‚Ä¢ Repouso conforme orienta√ß√£o m√©dica
‚Ä¢ Tome medica√ß√µes nos hor√°rios corretos
‚Ä¢ Mantenha curativo limpo e seco
‚Ä¢ Observe sinais de infec√ß√£o

‚ö†Ô∏è Sinais de Alerta (procure m√©dico):
‚Ä¢ Febre acima de 38¬∞C
‚Ä¢ Vermelhid√£o ou calor no local
‚Ä¢ Secre√ß√£o purulenta
‚Ä¢ Dor que piora
‚Ä¢ Sangramento excessivo

Recupera√ß√£o:
‚Ä¢ Alimenta√ß√£o rica em prote√≠nas
‚Ä¢ Hidrata√ß√£o adequada
‚Ä¢ Evite esfor√ßo f√≠sico
‚Ä¢ Siga orienta√ß√µes de fisioterapia
‚Ä¢ Retorno gradual √†s atividades

Cicatriza√ß√£o:
‚Ä¢ Protetor solar ap√≥s cicatriza√ß√£o inicial
‚Ä¢ Massagem cicatricial (quando liberado)
‚Ä¢ Evite movimentos que estiquem a cicatriz
‚Ä¢ Roupas confort√°veis

üåü Paci√™ncia √© fundamental na recupera√ß√£o!`,

                'gripe_resfriado': `ü§ß Recupera√ß√£o de Gripe/Resfriado

Tratamento:
‚Ä¢ Repouso adequado
‚Ä¢ Hidrata√ß√£o abundante (√°gua, ch√°s, sucos)
‚Ä¢ Alimenta√ß√£o leve e nutritiva
‚Ä¢ Medica√ß√£o conforme prescri√ß√£o

Al√≠vio dos Sintomas:
‚Ä¢ Inala√ß√£o com vapor
‚Ä¢ Mel e lim√£o para garganta
‚Ä¢ Banho morno
‚Ä¢ Umidificar o ambiente
‚Ä¢ Lavar nariz com soro fisiol√≥gico

Alimentos que ajudam:
‚Ä¢ Canja de galinha
‚Ä¢ Frutas c√≠tricas
‚Ä¢ Gengibre e alho
‚Ä¢ Sopas quentes
‚Ä¢ Ch√°s (camomila, hortel√£)

Preven√ß√£o de Piora:
‚Ä¢ Evite mudan√ßas bruscas de temperatura
‚Ä¢ N√£o fume
‚Ä¢ Lave as m√£os frequentemente
‚Ä¢ Use len√ßos descart√°veis

‚ö†Ô∏è Quando voltar ao m√©dico:
‚Ä¢ Febre por mais de 3 dias
‚Ä¢ Falta de ar
‚Ä¢ Dor no peito
‚Ä¢ Piora ap√≥s melhora inicial`,

                'tendinite': `üéØ Tratamento de Tendinite

Fase Aguda (primeiros dias):
‚Ä¢ Repouso da articula√ß√£o afetada
‚Ä¢ Gelo 3-4x ao dia (15-20 min)
‚Ä¢ Anti-inflamat√≥rios se prescritos
‚Ä¢ Evitar movimentos repetitivos

Ergonomia:
‚Ä¢ Ajuste altura da mesa/cadeira
‚Ä¢ Use apoio de punho no computador
‚Ä¢ Pausas a cada 50 minutos
‚Ä¢ Alongamentos no trabalho

Exerc√≠cios (ap√≥s fase aguda):
‚Ä¢ Alongamentos suaves
‚Ä¢ Fortalecimento progressivo
‚Ä¢ Exerc√≠cios exc√™ntricos
‚Ä¢ Libera√ß√£o miofascial

Tratamentos Complementares:
‚Ä¢ Fisioterapia
‚Ä¢ Acupuntura
‚Ä¢ Gelo/calor alternado
‚Ä¢ Massagem terap√™utica

Preven√ß√£o:
‚Ä¢ Aquecimento antes de atividades
‚Ä¢ N√£o force quando sentir dor
‚Ä¢ Varie os movimentos
‚Ä¢ Fortale√ßa m√∫sculos ao redor

‚è±Ô∏è Tempo de recupera√ß√£o: 6-12 semanas geralmente`,

                'tempo_recuperacao': `‚è±Ô∏è Tempo de Recupera√ß√£o por Condi√ß√£o

Les√µes Leves:
‚Ä¢ Resfriado/Gripe: 7-10 dias
‚Ä¢ Entorse leve: 1-2 semanas
‚Ä¢ Tens√£o muscular: 2-3 semanas

Les√µes Moderadas:
‚Ä¢ Tendinite: 6-12 semanas
‚Ä¢ Les√£o muscular: 4-8 semanas
‚Ä¢ Burnout leve: 2-3 meses

Les√µes Graves:
‚Ä¢ Fratura simples: 6-8 semanas
‚Ä¢ Fratura complexa: 3-6 meses
‚Ä¢ Cirurgia: 3-12 meses
‚Ä¢ Burnout severo: 6-12 meses

Fatores que influenciam:
‚Ä¢ Idade e sa√∫de geral
‚Ä¢ Gravidade da les√£o
‚Ä¢ Ades√£o ao tratamento
‚Ä¢ Estilo de vida
‚Ä¢ Suporte profissional

‚ö†Ô∏è Estes s√£o tempos m√©dios. Seu caso pode variar!`,

                'retorno_trabalho': `üìÖ Retorno ao Trabalho

Prepara√ß√£o:
‚Ä¢ Converse com seu m√©dico sobre limita√ß√µes
‚Ä¢ Planeje retorno gradual se poss√≠vel
‚Ä¢ Comunique necessidades especiais ao RH
‚Ä¢ Organize tarefas priorit√°rias

Adapta√ß√µes Poss√≠veis:
‚Ä¢ Home office parcial
‚Ä¢ Jornada reduzida tempor√°ria
‚Ä¢ Pausas mais frequentes
‚Ä¢ Ajustes ergon√¥micos
‚Ä¢ Restri√ß√µes de atividades

Primeiros Dias:
‚Ä¢ N√£o force al√©m do recomendado
‚Ä¢ Ou√ßa seu corpo
‚Ä¢ Mantenha rotina de cuidados
‚Ä¢ Evite sobrecarga

‚ö†Ô∏è Sinais de Problemas:
‚Ä¢ Dor que retorna/piora
‚Ä¢ Fadiga excessiva
‚Ä¢ Ansiedade intensa
‚Ä¢ Reca√≠da de sintomas

Direitos:
‚Ä¢ Readapta√ß√£o profissional se necess√°rio
‚Ä¢ Ambiente adaptado
‚Ä¢ Acompanhamento m√©dico peri√≥dico

üíº N√£o tenha pressa, recupera√ß√£o completa √© o objetivo!`,

                'prevencao': `üõ°Ô∏è Preven√ß√£o de Recidivas

Ergonomia no Trabalho:
‚Ä¢ Monitor na altura dos olhos
‚Ä¢ Cadeira com apoio lombar
‚Ä¢ P√©s apoiados no ch√£o
‚Ä¢ Teclado/mouse em boa posi√ß√£o
‚Ä¢ Ilumina√ß√£o adequada

H√°bitos Saud√°veis:
‚Ä¢ Exerc√≠cios regulares (150 min/semana)
‚Ä¢ Alongamentos di√°rios
‚Ä¢ Postura correta
‚Ä¢ Pausas regulares
‚Ä¢ Hidrata√ß√£o constante

Sa√∫de Mental:
‚Ä¢ Gerenciamento de estresse
‚Ä¢ Equil√≠brio trabalho-vida
‚Ä¢ Sono de qualidade
‚Ä¢ Rede de apoio social
‚Ä¢ Hobbies e lazer

Acompanhamento:
‚Ä¢ Check-ups m√©dicos regulares
‚Ä¢ Fisioterapia preventiva se indicado
‚Ä¢ Exames peri√≥dicos
‚Ä¢ Aten√ß√£o a sinais precoces

No Trabalho:
‚Ä¢ Respeite seus limites
‚Ä¢ Comunique desconfortos
‚Ä¢ Use EPIs adequados
‚Ä¢ Varie tarefas quando poss√≠vel

üåü Preven√ß√£o √© sempre melhor que tratamento!`,

                'sinais_alerta': `üö® Sinais de Alerta - Procure Atendimento

Sinais Gerais Graves:
‚Ä¢ Febre alta persistente (>39¬∞C)
‚Ä¢ Dor intensa que n√£o melhora
‚Ä¢ Falta de ar ou dificuldade respirat√≥ria
‚Ä¢ Dor no peito
‚Ä¢ Confus√£o mental
‚Ä¢ Sangramento importante

Sistema Musculoesquel√©tico:
‚Ä¢ Deformidade vis√≠vel
‚Ä¢ Incha√ßo s√∫bito e severo
‚Ä¢ Perda de movimento
‚Ä¢ Formigamento persistente
‚Ä¢ Fraqueza muscular s√∫bita
‚Ä¢ Dorm√™ncia

P√≥s-Cir√∫rgico:
‚Ä¢ Febre >38¬∞C
‚Ä¢ Vermelhid√£o crescente
‚Ä¢ Secre√ß√£o purulenta
‚Ä¢ Abertura de pontos
‚Ä¢ Dor que piora progressivamente

Sa√∫de Mental:
‚Ä¢ Pensamentos suicidas
‚Ä¢ Crises de p√¢nico severas
‚Ä¢ Incapacidade de funcionar
‚Ä¢ Alucina√ß√µes
‚Ä¢ Isolamento extremo

Infec√ß√µes:
‚Ä¢ Febre com calafrios
‚Ä¢ Confus√£o ou desorienta√ß√£o
‚Ä¢ Pele muito quente ou fria
‚Ä¢ Urina escura/reduzida

üÜò NA D√öVIDA, SEMPRE PROCURE AJUDA M√âDICA!`,

                'dor_gestao': `üíä Gerenciamento de Dor

M√©todos N√£o-Farmacol√≥gicos:
‚Ä¢ Gelo (fase aguda): 15-20 min, 3-4x/dia
‚Ä¢ Calor (ap√≥s 48-72h): relaxa m√∫sculos
‚Ä¢ TENS (estimula√ß√£o el√©trica)
‚Ä¢ Massagem terap√™utica
‚Ä¢ Acupuntura

T√©cnicas Mentais:
‚Ä¢ Distra√ß√£o (m√∫sica, filmes, leitura)
‚Ä¢ Medita√ß√£o e mindfulness
‚Ä¢ Respira√ß√£o profunda
‚Ä¢ Visualiza√ß√£o guiada
‚Ä¢ T√©cnicas de relaxamento

Posicionamento:
‚Ä¢ Travesseiros de apoio
‚Ä¢ Eleva√ß√£o de membros
‚Ä¢ Mudan√ßas frequentes de posi√ß√£o
‚Ä¢ Almofadas de suporte

Medica√ß√£o (conforme prescri√ß√£o):
‚Ä¢ Tome nos hor√°rios corretos
‚Ä¢ N√£o espere a dor piorar
‚Ä¢ Anote padr√µes de dor
‚Ä¢ Comunique efic√°cia ao m√©dico

‚úÖ Quando a Dor √© Normal:
‚Ä¢ Moderada ap√≥s exerc√≠cios/fisioterapia
‚Ä¢ Melhora progressiva ao longo dos dias
‚Ä¢ Responde bem ao tratamento

‚ö†Ô∏è Quando Preocupar:
‚Ä¢ Piora progressiva
‚Ä¢ N√£o responde a medica√ß√£o
‚Ä¢ Interfere muito no sono
‚Ä¢ Novos sintomas aparecem

üéØ A dor √© um sinal - ou√ßa seu corpo!`,

                'saude_mental': `üß† Cuidados com Sa√∫de Mental no Afastamento

√â Normal Sentir:
‚Ä¢ Ansiedade sobre o futuro
‚Ä¢ Frustra√ß√£o com limita√ß√µes
‚Ä¢ T√©dio ou inquieta√ß√£o
‚Ä¢ Preocupa√ß√£o financeira
‚Ä¢ Solid√£o

Estrat√©gias de Enfrentamento:
‚Ä¢ Mantenha rotina estruturada
‚Ä¢ Vista-se e arrume-se diariamente
‚Ä¢ Contato social regular (telefone, v√≠deo)
‚Ä¢ Hobbies adaptados √† condi√ß√£o
‚Ä¢ Aprenda algo novo

Atividades Terap√™uticas:
‚Ä¢ Leitura
‚Ä¢ Podcasts/audiobooks
‚Ä¢ Arte (pintura, desenho)
‚Ä¢ M√∫sica
‚Ä¢ Jardinagem leve
‚Ä¢ Culin√°ria

T√©cnicas de Relaxamento:
‚Ä¢ Medita√ß√£o guiada (apps dispon√≠veis)
‚Ä¢ Yoga adaptado
‚Ä¢ Respira√ß√£o diafragm√°tica
‚Ä¢ Journaling (di√°rio)
‚Ä¢ Gratid√£o di√°ria

‚ö†Ô∏è Quando Buscar Ajuda:
‚Ä¢ Tristeza persistente (>2 semanas)
‚Ä¢ Perda de interesse em tudo
‚Ä¢ Mudan√ßas no apetite/sono
‚Ä¢ Sentimentos de desesperan√ßa
‚Ä¢ Pensamentos intrusivos

Recursos:
‚Ä¢ CVV: 188 (24h)
‚Ä¢ Psicoterapia online
‚Ä¢ Grupos de apoio
‚Ä¢ Apps de sa√∫de mental

üíö Cuidar da mente √© t√£o importante quanto do corpo!`,

                'terapias_complementares': `üåø Terapias Complementares

Fisioterapia:
‚Ä¢ Tratamento espec√≠fico para les√£o
‚Ä¢ Exerc√≠cios terap√™uticos
‚Ä¢ T√©cnicas manuais
‚Ä¢ Eletroterapia
‚Ä¢ Fundamental para recupera√ß√£o completa

Acupuntura:
‚Ä¢ Al√≠vio de dor
‚Ä¢ Redu√ß√£o de inflama√ß√£o
‚Ä¢ Relaxamento muscular
‚Ä¢ Melhora circula√ß√£o
‚Ä¢ Complementa tratamento principal

Massoterapia:
‚Ä¢ Drenagem linf√°tica (reduz incha√ßo)
‚Ä¢ Massagem terap√™utica
‚Ä¢ Libera√ß√£o miofascial
‚Ä¢ Relaxamento
‚Ä¢ Sempre com profissional qualificado

Pilates/RPG:
‚Ä¢ Fortalecimento do core
‚Ä¢ Corre√ß√£o postural
‚Ä¢ Flexibilidade
‚Ä¢ Consci√™ncia corporal
‚Ä¢ Sob supervis√£o profissional

Hidroterapia:
‚Ä¢ Exerc√≠cios na √°gua
‚Ä¢ Baixo impacto
‚Ä¢ Relaxamento muscular
‚Ä¢ Amplitude de movimento
‚Ä¢ √ìtimo para articula√ß√µes

Terapias Mentais:
‚Ä¢ Psicoterapia (CBT, ACT)
‚Ä¢ Mindfulness
‚Ä¢ Arteterapia
‚Ä¢ Musicoterapia

‚ö†Ô∏è Importante:
‚Ä¢ Sempre informe seu m√©dico
‚Ä¢ Use profissionais qualificados
‚Ä¢ N√£o substitua tratamento principal
‚Ä¢ Observe rea√ß√µes do corpo

‚ú® Integra√ß√£o de terapias potencializa recupera√ß√£o!`,

                'ergonomia': `üè¢ Adapta√ß√£o Ergon√¥mica no Trabalho

Esta√ß√£o de Trabalho:
‚Ä¢ Monitor: Altura dos olhos, bra√ßo de dist√¢ncia
‚Ä¢ Cadeira: Apoio lombar, p√©s no ch√£o, √¢ngulo 90¬∞
‚Ä¢ Teclado/Mouse: Cotovelos 90¬∞, punhos retos
‚Ä¢ Mesa: Altura adequada aos cotovelos
‚Ä¢ Ilumina√ß√£o: Natural + artificial sem reflexos

Configura√ß√£o Ideal:
‚Ä¢ Topo do monitor na altura dos olhos
‚Ä¢ Costas totalmente apoiadas
‚Ä¢ Antebra√ßos paralelos ao ch√£o
‚Ä¢ Joelhos alinhados com quadris
‚Ä¢ P√©s totalmente apoiados

Pausas e Movimento:
‚Ä¢ Regra 20-20-20: A cada 20 min, olhe 20s para 20 p√©s (6m)
‚Ä¢ Levante a cada 50 minutos
‚Ä¢ Alongue pesco√ßo, ombros, punhos
‚Ä¢ Caminhe brevemente
‚Ä¢ Varie postura

Equipamentos Auxiliares:
‚Ä¢ Apoio de punho
‚Ä¢ Suporte para notebook
‚Ä¢ Mouse ergon√¥mico/vertical
‚Ä¢ Apoio para p√©s
‚Ä¢ Almofada lombar

Para Quem Fica em P√©:
‚Ä¢ Cal√ßados confort√°veis com suporte
‚Ä¢ Tapete anti-fadiga
‚Ä¢ Alterne peso entre pernas
‚Ä¢ Eleve um p√© alternadamente
‚Ä¢ Alongue regularmente

Adapta√ß√µes Espec√≠ficas:
‚Ä¢ Home office: mesmas regras
‚Ä¢ Notebook: use suporte + teclado externo
‚Ä¢ Reuni√µes: levante-se quando poss√≠vel
‚Ä¢ Telefone: use fone de ouvido

‚ö†Ô∏è Sinais de Problemas:
‚Ä¢ Dor de cabe√ßa frequente
‚Ä¢ Dor no pesco√ßo/ombros
‚Ä¢ Dor nos punhos
‚Ä¢ Fadiga visual
‚Ä¢ Dor lombar

üíº Preven√ß√£o atrav√©s de ergonomia evita recidivas!`,

                'default': `Entendo sua preocupa√ß√£o. Aqui est√£o algumas orienta√ß√µes gerais:

Cuidados importantes:
1. Siga rigorosamente as orienta√ß√µes do seu m√©dico
2. Mantenha uma rotina saud√°vel de sono
3. Hidrate-se adequadamente
4. Alimente-se de forma balanceada
5. Evite esfor√ßos f√≠sicos excessivos
6. Mantenha acompanhamento m√©dico regular

‚ö†Ô∏è Sinais de alerta:
‚Ä¢ Piora dos sintomas
‚Ä¢ Febre persistente
‚Ä¢ Dor intensa
‚Ä¢ Qualquer mudan√ßa preocupante

‚û°Ô∏è Nestes casos, procure seu m√©dico imediatamente!

üíô Lembre-se: cada recupera√ß√£o √© √∫nica. Tenha paci√™ncia e cuide bem de voc√™!`
            };

            // Busca resposta baseada em palavras-chave
            const lowerQuestion = question.toLowerCase();
            
            // Condi√ß√µes espec√≠ficas
            if (lowerQuestion.includes('costa') || lowerQuestion.includes('lombar') || lowerQuestion.includes('coluna')) {
                return responses['dor_costas'];
            } else if (lowerQuestion.includes('muscular') || lowerQuestion.includes('musculo') || lowerQuestion.includes('distensao')) {
                return responses['lesao_muscular'];
            } else if (lowerQuestion.includes('fratura') || lowerQuestion.includes('quebr') || lowerQuestion.includes('osso')) {
                return responses['fratura'];
            } else if (lowerQuestion.includes('burnout') || lowerQuestion.includes('ansiedade') || lowerQuestion.includes('estresse') || lowerQuestion.includes('depressao')) {
                return responses['burnout_ansiedade'];
            } else if (lowerQuestion.includes('cirurgia') || lowerQuestion.includes('cirurgic') || lowerQuestion.includes('operacao')) {
                return responses['cirurgia'];
            } else if (lowerQuestion.includes('gripe') || lowerQuestion.includes('resfriado') || lowerQuestion.includes('tosse')) {
                return responses['gripe_resfriado'];
            } else if (lowerQuestion.includes('tendinite') || lowerQuestion.includes('tendao') || lowerQuestion.includes('tendin')) {
                return responses['tendinite'];
            }
            // T√≥picos gerais
            else if (lowerQuestion.includes('exerc') || lowerQuestion.includes('atividade')) {
                return responses['exercicio'];
            } else if (lowerQuestion.includes('aliment') || lowerQuestion.includes('comer') || lowerQuestion.includes('dieta')) {
                return responses['alimentacao'];
            } else if (lowerQuestion.includes('sono') || lowerQuestion.includes('dormir') || lowerQuestion.includes('descanso')) {
                return responses['sono'];
            } else if (lowerQuestion.includes('tempo') || lowerQuestion.includes('quanto') || lowerQuestion.includes('duracao')) {
                return responses['tempo_recuperacao'];
            } else if (lowerQuestion.includes('retorn') || lowerQuestion.includes('voltar') || lowerQuestion.includes('trabalh')) {
                return responses['retorno_trabalho'];
            } else if (lowerQuestion.includes('prevencao') || lowerQuestion.includes('prevenir') || lowerQuestion.includes('evitar')) {
                return responses['prevencao'];
            } else if (lowerQuestion.includes('alerta') || lowerQuestion.includes('sinal') || lowerQuestion.includes('preocup')) {
                return responses['sinais_alerta'];
            } else if (lowerQuestion.includes('dor') || lowerQuestion.includes('gerenc') || lowerQuestion.includes('aliv')) {
                return responses['dor_gestao'];
            } else if (lowerQuestion.includes('mental') || lowerQuestion.includes('emocional') || lowerQuestion.includes('psicolog')) {
                return responses['saude_mental'];
            } else if (lowerQuestion.includes('terapia') || lowerQuestion.includes('complementar') || lowerQuestion.includes('alternativ')) {
                return responses['terapias_complementares'];
            } else if (lowerQuestion.includes('ergonomi') || lowerQuestion.includes('adapt') || lowerQuestion.includes('postura')) {
                return responses['ergonomia'];
            } else {
                return responses['default'];
            }
        }

        // Fun√ß√£o para enviar mensagem
        async function sendMessage() {
            const input = document.getElementById('userInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            // Adiciona mensagem do usu√°rio
            addMessage(message, true);
            input.value = '';
            
            // Mostra indicador de digita√ß√£o
            setTyping(true);
            
            // Simula delay da API
            await new Promise(resolve => setTimeout(resolve, 1000));
            
            // Chama a API
            const response = await callOpenAI(message);
            
            // Esconde indicador e mostra resposta
            setTyping(false);
            addMessage(response);
        }

        // Fun√ß√£o para perguntas r√°pidas
        function askQuestion(question) {
            document.getElementById('userInput').value = question;
            sendMessage();
        }

        // Fun√ß√£o para limpar chat
        function clearChat() {
            const chatContainer = document.getElementById('chatContainer');
            chatContainer.innerHTML = `
                <div class="message">
                    <div class="message-avatar">ü§ñ</div>
                    <div class="message-content">
                        <strong>Lia Care:</strong> Ol√°! Me conte qual √© sua condi√ß√£o m√©dica ou les√£o, e eu vou te fornecer dicas personalizadas de recupera√ß√£o. üòä
                    </div>
                </div>
            `;
            
            // Reseta hist√≥rico
            conversationHistory = [];
        }

        // Fun√ß√£o para Enter enviar mensagem
        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        // Carrega informa√ß√µes do usu√°rio ao iniciar
        window.addEventListener('DOMContentLoaded', () => {
            // Mostra info do usu√°rio se dispon√≠vel
            if (userContext.condition) {
                document.getElementById('userHealthInfo').style.display = 'block';
                document.getElementById('userConditionText').textContent = 
                    `${userContext.condition}${userContext.cid ? ' (CID: ' + userContext.cid + ')' : ''} - Licen√ßa de ${userContext.days || 'alguns'} dias`;
                
                // Mensagem personalizada
                setTimeout(() => {
                    addMessage(`Vi que voc√™ est√° em licen√ßa por ${userContext.condition}. Como posso te ajudar hoje? Posso dar dicas sobre exerc√≠cios, alimenta√ß√£o, sono ou outros aspectos da sua recupera√ß√£o! üòä`);
                }, 1000);
            }
        });
    </script>
</body>
</html>
